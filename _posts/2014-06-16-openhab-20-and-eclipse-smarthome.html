---
layout: post
title: openHAB 2.0 and Eclipse SmartHome
date: '2014-06-16T06:57:00.000+02:00'
author: Kai Kreuzer
tags:
- EnOcean
- Java
- eclipse
- IoT
- openhab
- AllJoyn
modified_time: '2014-06-16T10:28:15.190+02:00'
thumbnail: http://3.bp.blogspot.com/-ejvDecjGQiA/UZASTVsv0oI/AAAAAAAAF0k/87RVq4PMAzk/s72-c/openhab.jpg
blogger_id: tag:blogger.com,1999:blog-5335810078566775677.post-3706320272024556528
blogger_orig_url: http://kaikreuzer.blogspot.com/2014/06/openhab-20-and-eclipse-smarthome.html
---

<div dir="ltr" style="text-align: left;" trbidi="on">As I am regularly asked how the projects <a href="http://www.openhab.org/">openHAB</a> and <a href="http://eclipse.org/smarthome">Eclipse SmartHome</a> relate to each other, so I would like to take a chance to provide background information on this topic.<br /><br />Since <a href="http://kaikreuzer.blogspot.de/2010/02/openhab-is-out.html" target="_blank">its inception in 2010</a>, openHAB's popularity is constantly growing and our community is spread all over the world. Besides being used by end users and developers, openHAB is more and more adopted in academia, research and industry projects. Seeing the project maturing this way, two decisions were taken in 2013:<br /><br /><h3 style="text-align: left;">openHAB UG (haftungsbeschränkt) as a legal entity for openHAB</h3><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-ejvDecjGQiA/UZASTVsv0oI/AAAAAAAAF0k/87RVq4PMAzk/s1600/openhab.jpg" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"><img border="0" src="http://3.bp.blogspot.com/-ejvDecjGQiA/UZASTVsv0oI/AAAAAAAAF0k/87RVq4PMAzk/s1600/openhab.jpg" height="232" width="320" /></a></div>We (that is <a href="https://twitter.com/kaikreuzer" target="_blank">myself</a>, <a href="https://twitter.com/teichsta" target="_blank">Thomas Eichstädt-Engelen</a> and <a href="https://twitter.com/vbelov" target="_blank">Victor Belov</a>) founded the openHAB UG (haftungsbeschränkt), a small limited company with the sole purpose to run, back and support the openHAB project. The company has no commercial interest and we are fully committed to keep openHAB as a leading open-source smart home solution. Having this company as a legal entity behind openHAB now allows becoming a member of alliances and other activities. The company therefore has official developer accounts at Apple's Appstore and Google's PlayStore in order to be able to distribute the iOS and Android apps for openHAB. Furthermore, the openHAB UG is a member of<br /><ol style="text-align: left;"><ol><li>the <a href="http://www.enocean-alliance.org/en/home/" target="_blank">EnOcean Alliance</a> - Since we provide a solution that works well with EnOcean hardware, this was a natural step.</li><li>the <a href="https://allseenalliance.org/" target="_blank">AllSeen Alliance</a> - Their AllJoyn open-source technology can be a nice complement to openHAB as it unifies higher-level IP-based communication between end devices and could open the door for openHAB to many new devices though a single new AllJoyn-binding.</li><li>the <a href="http://eclipse.org/" target="_blank">Eclipse Foundation</a> - openHAB has always been based on many Eclipse projects, such as Equinox, Jetty and Xtext. But the main reason to join the Eclipse Foundation was this:</li></ol></ol><h3 style="text-align: left;">Kicking off the Eclipse SmartHome project</h3><ol style="text-align: left;"><a href="http://2.bp.blogspot.com/-A37GvbD53TY/U5sS8cO6WTI/AAAAAAAAHT4/40bD2gc_J2c/s1600/esh.png" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"><img border="0" src="http://2.bp.blogspot.com/-A37GvbD53TY/U5sS8cO6WTI/AAAAAAAAHT4/40bD2gc_J2c/s1600/esh.png" height="169" width="320" /></a></ol><div style="text-align: left;">To enable others to use code from openHAB in their own solutions and products, we wanted to put the code base on a solid and trustworthy foundation. Th legal aspects of many open-source projects are often pretty fuzzy, even if they have a permissive license. But for companies using such project in their own products, there is always the risk that the copyright of the code is not clear and that the code might be contaminated by patents. To reduce such risks, it is very beneficial to have a rigid intellectual property management and clear contribution processes - this is one of the things that a foundation such as Eclipse provides. We therefore decided to contribute the core framework of openHAB to the Eclipse Foundation, which became the new <a href="http://www.eclipse.org/smarthome" target="_blank">Eclipse SmartHome</a> project.</div>So has openHAB now been replaced by Eclipse SmartHome? Not at all - it is important to note that Eclipse SmartHome is only a framework (comprised of a set of OSGi bundles) to build smart home solutions on top. Although there are binary runtime downloads available for Eclipse SmartHome, these should only be seen as a demonstration of what can be done with Eclipse SmartHome - they are not meant as an end customer solution. The main deliverable of the project is a repository of the different bits and pieces to build solutions on top. There are already industry players actively contributing to the project and it can therefore be expected that commercial customer solutions become available later this year, which are based on the Eclipse SmartHome framework. One solution that can be counted on is openHAB - the new development branch of version 2.x is now based on Eclipse SmartHome.<br /><div><br /></div><h3 style="text-align: left;">openHAB 1.x versus openHAB 2.x</h3><div style="text-align: left;">This leads us to the next questions: Is openHAB 1.x now replaced by openHAB 2.x? When will this be available? And what are the differences and (in)compatibilities?</div><div style="text-align: left;"><br /></div><div style="text-align: left;">Well, openHAB 1.x is currently still the main development stream and very active - we have <a href="http://kaikreuzer.blogspot.de/2014/06/openhab-15-release-highlights.html" target="_blank">just released version 1.5</a> and hit a new record in the number of available add-ons; we are close to 100 now!</div><div style="text-align: left;"><br /></div><div style="text-align: left;">We will continue the openHAB 1.x branch - the focus being on the bindings and other add-ons. For the core runtime and the designer, only critical bugs will be fixed. So if you are a user rather than a developer, this is the version you should be after.<br /><br />openHAB 2 has a different focus: User comfort. While in openHAB 1.x you need to configure everything in text files and figure out the right syntax and possibilities of a certain binding in the wiki, openHAB 2 allows bindings and other add-ons to self-describe their configuration, so that it is possible to offer user interfaces for system setup and configuration. Additionally, auto-discovery (e.g. through UPnP, AllJoyn, etc.) is offered, so that new devices can be added by a simple click of a button. Chris Jackson has already built a lot of convenient UIs for openHAB 1.x, which are available as <a href="https://github.com/cdjackson/HABmin" target="_blank">HABmin</a> - this even includes a <a href="https://github.com/cdjackson/HABmin/wiki/Rule-Designer:-Overview" target="_blank">graphical rule editor</a> based on <a href="https://code.google.com/p/blockly/" target="_blank">blockly</a>. We are striving for refactoring and integrating these things as a core part of openHAB 2.x and thus not requiring the users to use configuration files at all (but of course leaving it as an option).<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-rabtqG9Bx58/U5ygCVao8II/AAAAAAAAHUM/0H0AXkqtQV0/s1600/rasppi.jpg" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"><img border="0" src="http://3.bp.blogspot.com/-rabtqG9Bx58/U5ygCVao8II/AAAAAAAAHUM/0H0AXkqtQV0/s1600/rasppi.jpg" height="212" width="320" /></a></div>A second major design goal of openHAB 2.x is the optimization for embedded platforms. Although openHAB 1.x works on a Raspberry Pi, it sometimes feels a bit sluggish at startup or with huge installations - this is due to the fact that openHAB had never been specifically optimized for embedded systems and thus uses libraries such as Xtext, which are not meant to be used in constrained environments. In consequence, we will try to provide a minimal openHAB runtime that will work with alternatives or strategies such as pre-compilation etc.</div><div style="text-align: left;"><br />What exactly does this mean for the architecture of openHAB 2.x?<br /><ul style="text-align: left;"><li>The core runtime and its APIs will change fundamentally. We deliberately use the chance to do backward compatibility breaking changes to it in favor of the above mentioned goals.</li><li>In consequence, <a href="https://github.com/openhab/openhab2" target="_blank">the source repository of openHAB 2</a> will start with no bindings at all and we encourage the developers in our community to migrate their existing 1.x bindings to the <a href="https://www.eclipse.org/forums/index.php/t/668424/" target="_blank">2.x concepts</a>, once these are fully in place.</li><li>For the time being, there is a "1.x compatibility bundle" that allows to use openHAB 1.x add-ons with the openHAB 2 runtime - this will not run for all of them out of the box, but for the majority of them.&nbsp;</li></ul><div>The good news is that we have now the first <a href="https://openhab.ci.cloudbees.com/job/openHAB2/" target="_blank">developer builds available of openHAB 2</a>! If you try this out (note that it is still under development and not meant for users, but rather developers), you will immediately see a couple of major changes:</div><div><ul style="text-align: left;"><li>The central configuration file "openhab.cfg" is gone. Instead, you can now have <a href="https://bugs.eclipse.org/bugs/show_bug.cgi?id=434003" target="_blank">a separate file for every add-on</a>. This clearly improves the overview over your configuration parameters as your configuration file won't be cluttered with information about add-ons that you are not using.</li><li>The whole directory structure has been overhauled - there are now three main folders: "runtime" containing the binaries and other content that is needed to run the system. "conf", which holds all your personal configurations and customizations (such as e.g. custom icons). "userdata", which is the only directory that the system actively writes to (log files, databases, etc.). This new structure makes system upgrades much easier and also facilitates the installation on embedded systems where one does not want to use flash memory for continuously writing logfiles etc.</li></ul><div>To summarize: openHAB 2 is still in an early phase, but having binary builds with a 1.x compatibility layer available is a significant step forward. You can expect very active development on it in the next weeks and in a few months from now, it should be a worthy replacement for the 1.x runtime.</div></div><div><br /></div><h3 style="text-align: left;">Shaping the Smart Home market</h3><div>Moving the core framework to the Eclipse SmartHome project might at first sight seem like adding unnecessary complexity to openHAB. But I sincerely believe that it was the right step for the smart home market in general: The Eclipse Foundation serves as a trustworthy institution that fosters industry collaboration. And collaboration is highly needed - now that Apple has entered the market with introducing <a href="https://developer.apple.com/videos/wwdc/2014/?id=213" target="_blank">HomeKit</a>. Everybody expects Google to be working on something similar after having shown interest in smart homes already in 2011 through the now vanished <a href="http://www.cnet.com/videos/google-unveils-androidhome/" target="_blank">Android@home</a> and more recently through the <a href="http://pocketnow.com/2014/01/21/google-smart-home-powered-by-nest" target="_blank">acquisition of Nest</a>. So will we see after the smartphone wars now the smart home wars? Will we have to choose all our home appliances in future depending on whether we <a href="http://venturebeat.com/2014/06/12/will-your-house-run-on-apple-google-or-something-else/" target="_blank">run our house on iOS or Android</a>? This sounds like the ultimate vendor lock-in, something that I am trying to fight since the beginning of openHAB. We can only escape this future, if the rest of the industry joins forces - the time for proprietary silo solution is up.&nbsp;In my opinion&nbsp;this <a href="http://www.slideshare.net/IanSkerrett/thingmonk-presentation-open-source-drive-innovation" target="_blank">collaboration can only work through open source</a> - everything else would only end up in competing consortiums that would further drive the market fragmentation. This is why Eclipse SmartHome should be seen as an invitation to the industry to collaborate - it is not so much about using the code that is out there right now, but much more about talking to each other, publicly sharing ideas, and shaping the future together for the better.</div><div><br /></div></div></div>